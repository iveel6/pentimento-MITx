<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script src="http://web.mit.edu/lu16j/www/WebPentimento/generalfunctions.js"></script>
        <script src="http://web.mit.edu/lu16j/www/WebPentimento/listeners.js"></script>
        <script src="http://web.mit.edu/lu16j/www/WebPentimento/renderer.js"></script>
        <style>
            .container {
                height: 600px;
                width: 800px;
                border: 1px solid black;
            }
            .canvas {
                height: 100%;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <button class="record">Record/Stop</button>
        <button class="play">Play/Pause</button>
        <button class="clear">Clear</button>
        <div class="container">
            <canvas class="canvas"></canvas>
        </div>
    </body>
    <script>
        var lecture = {
            "durationInSeconds" : 0,
            "width" : 800.0, "height": 600.0,
            "backgroundColor": { "red" : 1.000000, "green" : 1.000000, "blue" : 1.000000 },
            "hasSlides": false, 
            "retimer": [],
            "visuals": [
                { 
                    "type" : "stroke",
                    "isCalligraphic" : true,
                    "tMin":-0.000737,
                    "tEndEdit":0.372351,
                    "doesItGetDeleted" : false,
                    "tDeletion":0.000000,
                    "hyperlink": "",
                    "transforms" : [
                        {
                            "time" : 19.475952,
                            "m11" : 1.000000, "m12" : 0.000000, "m21" : 0.000000, "m22" : 1.000000, 
                            "tx" : 0.000000, "ty" : 0.000000
                        }
                    ],
                    "vertices" : [
                        {"x":332.617644, "y":1027.774412,"t": -0.000737, "pressure": 0.419608 },
                        {"x":330.400590, "y":1006.247677,"t": 0.113991, "pressure": 0.866667 },
                        {"x":330.101355, "y":977.285423,"t": 0.186073, "pressure": 0.960784 },
                        {"x":327.371976, "y":962.591205,"t": 0.229057, "pressure": 0.992157 },
                        {"x":323.744893, "y":951.297377,"t": 0.343166, "pressure": 0.862745 },
                        {"x":325.281869, "y":954.353194,"t": 0.372351, "pressure": 0.000000 }
                    ],
                    "properties" : [
                        {
                            "type" : "basicProperty",
                            "time" : 0.499000,
                            "thickness" : 10.000000,
                            "red" : 0.000000, "green" : 0.000000, "blue" : 0.000000, "alpha" : 1.000000,
                            "redFill" : 0.000000, "greenFill" : 0.000000, "blueFill" : 0.000000, "alphaFill" : 1.000000
                        }
                    ]
                }
            ],
            "cameraTransforms" : [
                {
                    "time" : -100000.000000,
                    "m11" : 1.000000, "m12" : 0.000000, "m21" : 0.000000, "m22" : 1.000000, 
                    "tx" : 0.000000, "ty" : 0.000000
                }
            ]
        };
        
        var Timer = function() {
            var startTime = 0;
            var pausedTime = 0;
            var paused = false;
            var stopped = true;
            function reset() {
                paused = false;
                stopped = true;
                startTime = 0;
                pausedTime = 0;
            }
            function start() {
                if(paused) {
                    startTime += Date.now()-pausedTime;
                }
                else if(stopped) {
                    startTime = Date.now();
                }
                paused = false;
                stopped = false;
            }
            function pause() {
                paused = true;
                stopped = false;
                pausedTime = Date.now();
            }
            function stop() {
                paused = false;
                stopped = true;
                pausedTime = Date.now();
            }
            function time() {
                if(stopped)
                    return pausedTime-startTime;
                if(paused)
                    return pausedTime-startTime;
                return Date.now()-startTime;
            }
            return {
                reset: reset,
                start: start,
                pause: pause,
                stop: stop,
                time: time
            };
        }
        
        var t = Timer();
        
        $('.record').on('click', function() {
        });
    </script>
</html>